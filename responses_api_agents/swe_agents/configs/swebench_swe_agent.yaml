# SWE-bench wrapper configuration for SWE-agent
swe_agents:
  responses_api_agents:
    swe_agents:
      entrypoint: app.py
      
      # Agent framework configuration
      agent_framework: swe_agent
      agent_config: configs/swe_agent_config.yaml
      agent_max_turns: 100
      agent_tools_file: configs/swe_agent_tools_openai_format.json  # Used for response formatting only
      agent_framework_repo: https://github.com/slikhite-1/nv-SWE-agent.git
      agent_framework_commit: 34755442cb91fe0500a6dcb0485b91e899812f90  # pragma: allowlist secret
      
      # Container configuration
      container_formatter: "/lustre/fsw/portfolios/llmservice/users/igitman/images/swe-bench/swebench_sweb.eval.x86_64.{instance_id}.sif"
      container_folder_path: null
      swebench_tests_timeout: 900  # 30 minutes
      concurrency: 512
      
      # Optional model server reference
      model_server:
        name: policy_model # openai_model
        type: responses_api_models
      
      # Additional NeMo-Skills configuration
      nemo_skills_config:
        max_samples: -1
        skip_filled: false
        dry_run: false
        max_concurrent_requests: 1  
        inference.top_logprobs: 10  # Request logprobs to get token IDs for training
      
      # Dataset configurations
      datasets:
        # Training dataset
        - name: train
          type: train
          jsonl_fpath: responses_api_agents/swe_agents/data/swegym_for_sweagent_and_openhands.jsonl
          gitlab_identifier:
            dataset_name: swegym_for_sweagent_and_openhands
            version: 0.0.1
            artifact_fpath: swegym_for_sweagent_and_openhands.jsonl
          license: MIT
        
        # Validation dataset  
        - name: validation
          type: validation
          jsonl_fpath: responses_api_agents/swe_agents/data/swebench_verified_for_sweagent_and_openhands.jsonl
          gitlab_identifier:
            dataset_name: swebench_verified_for_sweagent_and_openhands
            version: 0.0.1
            artifact_fpath: swebench_verified_for_sweagent_and_openhands.jsonl
          license: TBD
        
        # Example dataset for quick testing
        - name: example
          type: example
          jsonl_fpath: responses_api_agents/swe_agents/data/example.jsonl
